# ICFPC2018 Girigiri

## Problem
[https://icfpcontest2018.github.io/full/task-description.html](https://icfpcontest2018.github.io/full/task-description.html)

## Assemble Problem
担当: @xuzijian629

入力例は`FA122_tgt.mdl`を除いて連結。
以下のアルゴリズムでLowを保ったまま構築する。

1. 最初にノードを最上階まで最短で動かし、"柱"を作る。柱を作る過程で、各階にノードを１つずつ分裂させておく。親ノードは(0, R - 1, 0)に置いておく。複数の柱の候補があるときは、最も(0, \*, 0)に近いものを選ぶ。

2. 各階のノードは、階内のブロックのみを塗る。階内のブロックを（非連結なものも含めて）すべて塗るような、最短路を計算し、
塗っていく。

3. 各階の処理を終えると、ロボットは(0, \*, 0)まで戻り、隅を辿ってまだブロックが配置されていない階の柱へ向かう。

4. すべての階が塗られるまでブロックが上昇していく。終了したブロックは(0, R - 1, 0)にマージしていく。

5. ノードが全部集まったらノードを(0, 0, 0)に戻す。

ここから余分なブロックを消していく。なおこの作業はReassemble Problemでも使えるのであえて分離して実装する。

6. もう一度下の階から順にノードを配置していく。その階の本来不要だったマスを消していく。

7. 塗ったときと同様に、各階の作業が終わると(0, \*, 0)まで戻って上の階に移動していく。

8. 作業が終了したロボットを(0, R - 1, 0)にマージしていく。

9. 集まったロボットを(0, 0, 0)に戻して作業終了。
